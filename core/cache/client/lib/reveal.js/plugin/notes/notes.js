/**
 * Handles opening of and synchronization with the reveal.js
 * notes window.
 */
var RevealNotes=function(){function e(){function e(){var e,n,d,o=Reveal.getCurrentSlide(),r=Reveal.getIndices(),a=o.querySelector("aside.notes");o.nextElementSibling&&"SECTION"==o.parentNode.nodeName?(n=r.h,d=r.v+1):(n=r.h+1,d=0),e={notes:a?a.innerHTML:"",indexh:r.h,indexv:r.v,indexf:r.f,nextindexh:n,nextindexv:d,markdown:a?"string"==typeof a.getAttribute("data-markdown"):!1},t.postMessage(JSON.stringify(e),"*")}var n=document.querySelector('script[src$="notes.js"]').src;n=n.replace(/notes\.js(\?.*)?$/,"");var t=window.open(n+"notes.html","reveal.js - Notes","width=1120,height=850");Reveal.addEventListener("slidechanged",e),Reveal.addEventListener("fragmentshown",e),Reveal.addEventListener("fragmenthidden",e),t.addEventListener("load",function(){e()},!1)}return null!==window.location.search.match(/(\?|\&)notes/gi)&&e(),document.addEventListener("keydown",function(n){null!==document.querySelector(":focus")||n.shiftKey||n.altKey||n.ctrlKey||n.metaKey||83===n.keyCode&&(n.preventDefault(),e())},!1),{open:e}}();
